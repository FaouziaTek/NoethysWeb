{% load static %}

<div class="input-group {% if "is-invalid" in class %}is-invalid{% endif %}">
    <div class="input-group-prepend">
        <div class="input-group-text">
            <input name="checkbox_{{ name }}" type="text" value="true" hidden>
            <input id="checkbox_{{ id }}" type="checkbox" checked><span style="vertical-align: middle;margin-left: 5px;">{{ label_checkbox }}</span>
        </div>
    </div>
    <input id="input_{{ id }}" name="{{ name }}" type="{{ type }}" title="{{ title }}" value="{{ value }}" class="{{ class }}" readonly>
</div>

<script>
$(document).ready(function() {

    $('#checkbox_{{ id }}').on('change', function(){
        if ($("#checkbox_{{ id }}").prop("checked")) {
            $("#input_{{ id }}").prop('readonly', true);
            $('input[name=checkbox_{{ name }}]').val("true");
        } else {
            $("#input_{{ id }}").prop('readonly', false);
            $('input[name=checkbox_{{ name }}]').val("false");
        };
    });

});
</script>